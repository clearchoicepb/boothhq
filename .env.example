# ============================================================================
# BOOTHHQ ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local to version control!

# ============================================================================
# APPLICATION DATABASE (Main Supabase Project)
# ============================================================================
# This database stores ONLY application metadata:
# - tenants (with connection strings to tenant data databases)
# - users (authentication and authorization)
# - audit_log (system-level audit trail)
#
# Get these from your Supabase project settings:
# https://app.supabase.com/project/YOUR_PROJECT_ID/settings/api

NEXT_PUBLIC_SUPABASE_URL=https://your-app-database.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================================================
# DEFAULT TENANT DATA DATABASE (Supabase Project for Tenant Data)
# ============================================================================
# This database stores ALL business/operational data:
# - accounts, contacts, leads, opportunities
# - events, locations, staff, equipment
# - invoices, payments, quotes, contracts
# - tasks, templates, attachments, communications
#
# This is the default data source for new tenants.
# Individual tenants can have their own dedicated databases.

DEFAULT_TENANT_DATA_URL=https://your-tenant-data.supabase.co
DEFAULT_TENANT_DATA_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
DEFAULT_TENANT_DATA_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================================================
# ENCRYPTION (for storing tenant connection strings securely)
# ============================================================================
# This key is used to encrypt/decrypt sensitive tenant connection strings
# stored in the application database.
#
# Generate a secure random key with:
#   openssl rand -hex 32
#
# IMPORTANT: Keep this key secure! If lost, you cannot decrypt connection strings.

ENCRYPTION_KEY=your-32-byte-hex-key-here

# ============================================================================
# NEXTAUTH (Authentication)
# ============================================================================
# NextAuth secret for session encryption
# Generate with:
#   openssl rand -base64 32

NEXTAUTH_SECRET=your-nextauth-secret-here
NEXTAUTH_URL=http://localhost:3000

# ============================================================================
# GOOGLE MAPS API (for address autocomplete)
# ============================================================================
# Get your API key from Google Cloud Console:
# https://console.cloud.google.com/apis/credentials
# Enable: Places API, Maps JavaScript API, Geocoding API

NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-api-key-here

# ============================================================================
# DATA SOURCE MANAGER (Connection Pool & Cache Configuration)
# ============================================================================
# Configure the DataSourceManager's connection pooling and caching behavior.
# These settings affect performance and resource utilization.

# Maximum number of concurrent database client connections
# Default: 50
# Increase for high-traffic applications, decrease for memory constraints
# DATA_SOURCE_MAX_CLIENTS=50

# Enable connection pool and cache metrics tracking
# Default: true
# Set to 'false' to disable metrics collection
# DATA_SOURCE_ENABLE_METRICS=true

# Enable Next.js cache for serverless environments
# Default: true
# Provides persistent caching across serverless function invocations
# DATA_SOURCE_USE_NEXTJS_CACHE=true

# Tenant configuration cache TTL (milliseconds)
# Default: 300000 (5 minutes)
# How long to cache tenant connection configurations in memory
# DATA_SOURCE_CONFIG_CACHE_TTL=300000

# Database client cache TTL (milliseconds)
# Default: 3600000 (1 hour)
# How long to keep database client connections alive
# DATA_SOURCE_CLIENT_CACHE_TTL=3600000

# Cache cleanup interval (milliseconds)
# Default: 600000 (10 minutes)
# How often to clean up expired cache entries
# DATA_SOURCE_CACHE_CLEANUP_INTERVAL=600000

# ============================================================================
# OPTIONAL: Additional Configuration
# ============================================================================

# Application URL (for production)
# NEXT_PUBLIC_APP_URL=https://your-domain.com

# Sentry (Error tracking)
# NEXT_PUBLIC_SENTRY_DSN=https://...@sentry.io/...
# SENTRY_AUTH_TOKEN=...

# PostHog (Analytics)
# NEXT_PUBLIC_POSTHOG_KEY=...
# NEXT_PUBLIC_POSTHOG_HOST=...

# Stripe (Payments)
# STRIPE_PUBLIC_KEY=pk_test_...
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# SendGrid (Email)
# SENDGRID_API_KEY=SG....
# SENDGRID_FROM_EMAIL=noreply@your-domain.com

# AWS S3 (File storage)
# AWS_ACCESS_KEY_ID=...
# AWS_SECRET_ACCESS_KEY=...
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-bucket-name

# ============================================================================
# DEVELOPMENT ONLY
# ============================================================================

# Enable debug logging
# DEBUG=true

# Bypass auth for testing (NEVER enable in production!)
# BYPASS_AUTH=false
